<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>动画测试</title>
<style>
  html, body {
    margin: 0; padding: 0; overflow: hidden; height: 100%;
    background-color: black;
  }
  canvas {
    position: absolute; left: 0; top: 0;
    width: 100%; height: 100%;
    display: block;
  }
</style>
</head>
<body>
<canvas id="test"></canvas>
<script>
  window.addEventListener('load', function () {
    var canvas = document.getElementById('test');
    var ctx = canvas.getContext('2d');
    var dpr = window.devicePixelRatio || 1;

    function resize() {
      var w = window.innerWidth;
      var h = window.innerHeight;
      canvas.style.width = w + 'px';
      canvas.style.height = h + 'px';
      canvas.width = w * dpr;
      canvas.height = h * dpr;
      ctx.setTransform(1, 0, 0, 1, 0, 0);
      ctx.scale(dpr, dpr);
    }
    resize();
    window.addEventListener('resize', resize);

    var time = 0;
    function loop() {
      var w = window.innerWidth;
      var h = window.innerHeight;
      ctx.clearRect(0, 0, w, h);
      var x = w / 2 + 100 * Math.sin(time);
      var y = h / 2;
      ctx.fillStyle = 'pink';
      ctx.beginPath();
      ctx.arc(x, y, 20, 0, Math.PI * 2);
      ctx.fill();
      time += 0.05;
      window.requestAnimationFrame(loop);
    }
    loop();
  });
</script>
</body>
</html>
